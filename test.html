<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>PDF-Friendly Storage HTML Generator</title>
  <style>
    body{font-family:Arial,sans-serif;padding:20px;background:#f6f7fb;white-space:pre-wrap}
    h1{font-size:18px;margin-bottom:10px}
    .wrap{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    textarea{width:100%;height:300px;padding:10px;border-radius:6px;border:1px solid #ccc;resize:vertical;white-space:pre-wrap;}
    .panel{background:#fff;padding:12px;border-radius:8px;border:1px solid #ddd}
    button{margin-top:10px;padding:8px 12px;border-radius:6px;border:0;background:#2b6cff;color:#fff;cursor:pointer}
    .output{white-space:pre-wrap;background:#111;color:#eee;padding:12px;border-radius:8px;min-height:200px;overflow:auto}
    iframe{width:100%;height:250px;border:1px solid #ccc;border-radius:6px;margin-top:10px;background:#fff}
  </style>
</head>
<body>
  <h1>PDF-Friendly Storage HTML Generator</h1>
  <div class="wrap">
    <div class="panel">
      <label>Input text (paste from PDF):</label>
      <textarea id="input"></textarea>
      <button id="genExact">Generate (Exact)</button>
      <button id="genEmph">Generate (Emphasized)</button>
    </div>

    <div class="panel">
      <label>Generated HTML:</label>
      <div id="output" class="output"></div>
      <button id="copy">Copy</button>
      <iframe id="preview"></iframe>
    </div>
  </div>

  <script>
    const boldPhrases = [
      "easy, secure, and worry-free",
      "Beat any previous quote by up to 10%",
      "Free lock (£15.99)",
      "Reserve up to 12 weeks in advance",
      "Promotions always live on our website",
      "Call 0330 202 0602",
      "UK Storage Company"
    ];

    function escapeHtml(s){
      return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
    }

    function mdToBold(text){
      return text.replace(/\*\*(.+?)\*\*/g,"<b>$1</b>");
    }

    function applyExactBold(html){
      boldPhrases.forEach(p=>{
        const re=new RegExp(p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi");
        html=html.replace(re,match=>"<b>"+match+"</b>");
      });
      return html;
    }

    function applyEmphasis(html){
      html=html.replace(/(\d+%)/g,"<b>$1</b>");
      html=html.replace(/\(([^)]+)\)/g,"(<b>$1</b>)");
      html=html.replace(/\b(Free)\b/gi,"<b>$1</b>");
      return html;
    }

    function process(input,mode){
  const lines = input.split(/\n/);
  let htmlLines = [];

  lines.forEach(line => {
    if(/^[-•*]\s+/.test(line)){
      let content = line.replace(/^[-•*]\s+/,'');
      content = mdToBold(content);
      htmlLines.push("• " + content);
    } else if(line.trim() === ''){
      htmlLines.push(''); 
    } else {
      htmlLines.push(mdToBold(line));
    }
  });

  let out = htmlLines.join("\n");

  if(mode === "exact"){ out = applyExactBold(out); }
  if(mode === "emph"){ out = applyExactBold(out); out = applyEmphasis(out); }

  if(!/Best regards/i.test(out)){
    out += "\n\nBest regards,\nUK Storage Company";
  }

  // single-line HTML output
  return `<body style="font-family:Arial;white-space:pre-wrap">${out}</body>`.replace(/\n/g,'');
}

    }

    const inputEl = document.getElementById("input");
    const outEl = document.getElementById("output");
    const preview = document.getElementById("preview").contentWindow.document;

    function generate(mode){
      const html = process(inputEl.value,mode);
      outEl.textContent = html;
      preview.open();
      preview.write("<!doctype html><html><head><meta charset='utf-8'></head>"+html+"</html>");
      preview.close();
    }

    document.getElementById("genExact").addEventListener("click", ()=>generate("exact"));
    document.getElementById("genEmph").addEventListener("click", ()=>generate("emph"));

    document.getElementById("copy").addEventListener("click", ()=>{
      navigator.clipboard.writeText(outEl.textContent).then(()=>alert("Copied!"));
    });

    inputEl.value = `Still thinking about storage? We make it easy, secure, and worry-free. 

Here’s why customers choose us: 
• Beat any previous quote by up to 10% 
• Clean, secure units ready for you 
• Free lock (£15.99) included 
• Reserve up to 12 weeks in advance 
• Promotions always live on our website 

Plan ahead or book now – your unit will be ready when you need it. 

Call 0330 202 0602 
[Book Your Unit & Free Lock] 

Best regards, 
UK Storage Company`;
  </script>
</body>
</html>
